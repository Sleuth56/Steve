#!/usr/bin/env python3

# Must have librarries
import time
import os

#!/usr/bin/env python3

#start and configure paulseaudio
import os
#os.system('pacmd set-default-sink "1"')
#os.system('pulseaudio --start')

#Steve module imports
from modules import web
from modules import comp
from modules import Wikipedia
from modules import Timer
from modules import greating
from modules import DateTime
from modules import wordtonum

from modules import Speek
Speek.Speek("Hi I'm Steve")

from pocketsphinx import LiveSpeech
import pyttsx3
import _thread
import time

found = False

#text = input(": ")
speech = LiveSpeech(lm=False, keyphrase='steve', kws_threshold=1e-20)
for phrase in speech:
  words = phrase.segments(detailed=False)
  if 'steve' in words:
    print('active')

    _thread.start_new_thread( f, (ThisDoesntDoAnyThing,) )
    for text in LiveSpeech():
      if found == False:
        found = False
        text = wordtonum.wordtonum(str(text))
        text = str(text)
        text = text.replace(' ', '_')
        print(text)

        # if found == False:
        #   for i in range(len(your_module.quorry())):
        #     if your_module.quorry()[i] in text:
        #       found = True
        #       your_module.Steve(text)

        if found == False:
          for i in range(len(DateTime.quorry())):
            if DateTime.quorry()[i] in text:
              found = True
              DateTime.Steve(text)

        if found == False:
          for i in range(len(web.quorry())):
            if web.quorry()[i] in text:
              found = True
              web.Steve(text)

        if found == False:
          for i in range(len(comp.quorry())):
            if comp.quorry()[i] in text:
              found = True
              comp.Steve(text)

        if found == False:
          for i in range(len(Wikipedia.quorry())):
            if Wikipedia.quorry()[i] in text:
              found = True
              Wikipedia.Steve(text)

        if found == False:
          for i in range(len(Timer.quorry())):
            if Timer.quorry()[i] in text:
              found = True
              Timer.Steve(text)

        if found == False:
          for i in range(len(greating.quorry())):
            if greating.quorry()[i] in text:
              found = True
              greating.Steve(text)

        if found == False:
          for i in range(len(Speek.quorry())):
            if Speek.quorry()[i] in text:
              found = True
              Speek.Steve(text)

      else:
        break
